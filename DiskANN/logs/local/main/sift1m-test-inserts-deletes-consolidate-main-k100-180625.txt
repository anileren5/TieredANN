L2: Using AVX2 distance computation DistanceL2Float
Read 0 points using non-cached reads in 3.3e-05
load aligned bin succeeded
Index start points set: #1
Initial non-incremental index build time for 0 points took 1.7e-05 seconds (0 points/second)
 
Inserting from 0 to 10000
Read 10000 points using non-cached reads in 0.002655
Insertion time 0.231285 seconds (43236.7 points/second overall, 1351.15 per thread)
 
Inserting from 10000 to 20000
Read 10000 points using non-cached reads in 0.00189
Insertion time 0.309399 seconds (32320.7 points/second overall, 1010.02 per thread)
 
Inserting from 20000 to 30000
Read 10000 points using non-cached reads in 0.002463
Insertion time 0.372452 seconds (26849.1 points/second overall, 839.034 per thread)
 
Inserting from 30000 to 40000
Read 10000 points using non-cached reads in 0.001613
Insertion time 0.403004 seconds (24813.6 points/second overall, 775.427 per thread)
 
Inserting from 40000 to 50000
Read 10000 points using non-cached reads in 0.00232
Insertion time 0.455522 seconds (21952.8 points/second overall, 686.026 per thread)
 
Inserting from 50000 to 60000

Lazy deleting points 0 to 25000... Read 10000 points using non-cached reads in 0.001766
done.
Starting consolidate_deletes... Insertion time 0.534243 seconds (18718.1 points/second overall, 584.94 per thread)
 
Inserting from 60000 to 70000
Read 10000 points using non-cached reads in 0.001721
Insertion time 0.558317 seconds (17911 points/second overall, 559.718 per thread)
 
Inserting from 70000 to 75000
Read 5000 points using non-cached reads in 0.000824
Insertion time 0.320782 seconds (15586.9 points/second overall, 487.091 per thread)
  done in 2.92371 seconds.
#active points: 50000
max points: 75000
empty slots: 25000
deletes processed: 25000
latest delete size: 0
rate: (8550.78 points/second overall, 267.212 per thread)
Time Elapsed 4718ms
#dangling references after data compaction: 0
Time taken for compact_data: 0.025003s.
Writing bin: index/sift/sift.after-concurrent-delete-del25000-75000.tags
bin: #pts = 50001, #dims = 1, size = 200012B
Finished writing bin.
Time taken for save: 0.051635s.
Reading bin file data/sift/sift_query.bin ...
#pts in part = 10000, #dims = 128, size = 5120000B
Finished reading part of the bin file.
Finished converting part data to float.
Reading bin file index/sift/sift.after-concurrent-delete-del25000-75000.tags ...
Opening bin file index/sift/sift.after-concurrent-delete-del25000-75000.tags... 
Metadata: #pts = 50001, #dims = 1...
done.
Reading bin file index/sift/sift.after-concurrent-delete-del25000-75000.data ...
#pts = 50001, #dims = 128
Number of parts: 1
Reading bin file index/sift/sift.after-concurrent-delete-del25000-75000.data ...
#pts in part = 50001, #dims = 128, size = 25600512B
Finished reading part of the bin file.
Finished converting part data to float.
Going to compute 100 NNs for 10000 queries over 50001 points in 128 dimensions using L2 distance fn. 
Computed distances for queries: [0,512)
Computed exact k-NN for queries: [0,512)
Computed distances for queries: [512,1024)
Computed exact k-NN for queries: [512,1024)
Computed distances for queries: [1024,1536)
Computed exact k-NN for queries: [1024,1536)
Computed distances for queries: [1536,2048)
Computed exact k-NN for queries: [1536,2048)
Computed distances for queries: [2048,2560)
Computed exact k-NN for queries: [2048,2560)
Computed distances for queries: [2560,3072)
Computed exact k-NN for queries: [2560,3072)
Computed distances for queries: [3072,3584)
Computed exact k-NN for queries: [3072,3584)
Computed distances for queries: [3584,4096)
Computed exact k-NN for queries: [3584,4096)
Computed distances for queries: [4096,4608)
Computed exact k-NN for queries: [4096,4608)
Computed distances for queries: [4608,5120)
Computed exact k-NN for queries: [4608,5120)
Computed distances for queries: [5120,5632)
Computed exact k-NN for queries: [5120,5632)
Computed distances for queries: [5632,6144)
Computed exact k-NN for queries: [5632,6144)
Computed distances for queries: [6144,6656)
Computed exact k-NN for queries: [6144,6656)
Computed distances for queries: [6656,7168)
Computed exact k-NN for queries: [6656,7168)
Computed distances for queries: [7168,7680)
Computed exact k-NN for queries: [7168,7680)
Computed distances for queries: [7680,8192)
Computed exact k-NN for queries: [7680,8192)
Computed distances for queries: [8192,8704)
Computed exact k-NN for queries: [8192,8704)
Computed distances for queries: [8704,9216)
Computed exact k-NN for queries: [8704,9216)
Computed distances for queries: [9216,9728)
Computed exact k-NN for queries: [9216,9728)
Computed distances for queries: [9728,10000)
Computed exact k-NN for queries: [9728,10000)
Saving truthset in one file (npts, dim, npts*dim id-matrix, npts*dim dist-matrix) with npts = 10000, dim = 100, size = 8000008B
Finished writing truthset
Reading (with alignment) bin file data/sift/sift_query.bin ...Metadata: #pts = 10000, #dims = 128, aligned_dim = 128... allocating aligned memory of 5120000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: data/sift/sift_groundtruth.bin, size: 8000008, cache_size: 8000008
Reading truthset file data/sift/sift_groundtruth.bin ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.00146746s
Reading bin file index/sift/sift.after-concurrent-delete-del25000-75000.tags ...
Opening bin file index/sift/sift.after-concurrent-delete-del25000-75000.tags... 
Metadata: #pts = 50001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 9153604, _max_observed_degree: 83, _start: 50000, file_frozen_pts: 1
Loading vamana graph index/sift/sift.after-concurrent-delete-del25000-75000...done. Index has 50001 nodes and 2238394 out-edges, _start is set to 50000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 50000 _start: 50000 size(_location_to_tag): 50000 size(_tag_to_location):50000 Max points: 50000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20   211921.65              280.59       12938.91       98.96
  40   149743.58              412.61       13326.56       99.84
  60   113497.36              551.07       16801.76       99.96
  80    91336.26              675.51       16312.22       99.99
 100    78156.89              795.57       22305.61       99.99
Done searching. Now saving results 
basic_ios::clear: iostream error
Index search failed.