eren@eren:~/Desktop/summer@EPFL/DiskANN$ ./scripts/tests/test_inserts_deletes_consolidate.sh
===== Iteration 1 =====
L2: Using AVX2 distance computation DistanceL2Float
Read 0 points using non-cached reads in 4.2e-05
load aligned bin succeeded
Index start points set: #1
Initial non-incremental index build time for 0 points took 1.7e-05 seconds (0 points/second)
 
Inserting from 0 to 75000
Read 75000 points using non-cached reads in 0.01824
Insertion time 2.68441 seconds (27939.1 points/second overall, 873.098 per thread)
 
Lazy deleting points 0 to 25000... done.
Starting consolidate_deletes...  done in 2.06118 seconds.
#active points: 50000
max points: 75000
empty slots: 25000
deletes processed: 25000
latest delete size: 0
rate: (12129 points/second overall, 379.03 per thread)
Time Elapsed 4768ms
#dangling references after data compaction: 0
Time taken for compact_data: 0.02618s.
Writing bin: index/sift/sift.after-concurrent-delete-del25000-75000.tags
bin: #pts = 50001, #dims = 1, size = 200012B
Finished writing bin.
Time taken for save: 0.051984s.
Reading bin file data/sift/sift_query.bin ...
#pts in part = 10000, #dims = 128, size = 5120000B
Finished reading part of the bin file.
Finished converting part data to float.
Reading bin file index/sift/sift.after-concurrent-delete-del25000-75000.tags ...
Opening bin file index/sift/sift.after-concurrent-delete-del25000-75000.tags... 
Metadata: #pts = 50001, #dims = 1...
done.
Reading bin file index/sift/sift.after-concurrent-delete-del25000-75000.data ...
#pts = 50001, #dims = 128
Number of parts: 1
Reading bin file index/sift/sift.after-concurrent-delete-del25000-75000.data ...
#pts in part = 50001, #dims = 128, size = 25600512B
Finished reading part of the bin file.
Finished converting part data to float.
Going to compute 100 NNs for 10000 queries over 50001 points in 128 dimensions using L2 distance fn. 
Computed distances for queries: [0,512)
Computed exact k-NN for queries: [0,512)
Computed distances for queries: [512,1024)
Computed exact k-NN for queries: [512,1024)
Computed distances for queries: [1024,1536)
Computed exact k-NN for queries: [1024,1536)
Computed distances for queries: [1536,2048)
Computed exact k-NN for queries: [1536,2048)
Computed distances for queries: [2048,2560)
Computed exact k-NN for queries: [2048,2560)
Computed distances for queries: [2560,3072)
Computed exact k-NN for queries: [2560,3072)
Computed distances for queries: [3072,3584)
Computed exact k-NN for queries: [3072,3584)
Computed distances for queries: [3584,4096)
Computed exact k-NN for queries: [3584,4096)
Computed distances for queries: [4096,4608)
Computed exact k-NN for queries: [4096,4608)
Computed distances for queries: [4608,5120)
Computed exact k-NN for queries: [4608,5120)
Computed distances for queries: [5120,5632)
Computed exact k-NN for queries: [5120,5632)
Computed distances for queries: [5632,6144)
Computed exact k-NN for queries: [5632,6144)
Computed distances for queries: [6144,6656)
Computed exact k-NN for queries: [6144,6656)
Computed distances for queries: [6656,7168)
Computed exact k-NN for queries: [6656,7168)
Computed distances for queries: [7168,7680)
Computed exact k-NN for queries: [7168,7680)
Computed distances for queries: [7680,8192)
Computed exact k-NN for queries: [7680,8192)
Computed distances for queries: [8192,8704)
Computed exact k-NN for queries: [8192,8704)
Computed distances for queries: [8704,9216)
Computed exact k-NN for queries: [8704,9216)
Computed distances for queries: [9216,9728)
Computed exact k-NN for queries: [9216,9728)
Computed distances for queries: [9728,10000)
Computed exact k-NN for queries: [9728,10000)
Saving truthset in one file (npts, dim, npts*dim id-matrix, npts*dim dist-matrix) with npts = 10000, dim = 100, size = 8000008B
Finished writing truthset
Reading (with alignment) bin file data/sift/sift_query.bin ...Metadata: #pts = 10000, #dims = 128, aligned_dim = 128... allocating aligned memory of 5120000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: data/sift/sift_groundtruth.bin, size: 8000008, cache_size: 8000008
Reading truthset file data/sift/sift_groundtruth.bin ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.000751056s
Reading bin file index/sift/sift.after-concurrent-delete-del25000-75000.tags ...
Opening bin file index/sift/sift.after-concurrent-delete-del25000-75000.tags... 
Metadata: #pts = 50001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 10440992, _max_observed_degree: 64, _start: 50000, file_frozen_pts: 1
Loading vamana graph index/sift/sift.after-concurrent-delete-del25000-75000...done. Index has 50001 nodes and 2560241 out-edges, _start is set to 50000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 50000 _start: 50000 size(_location_to_tag): 50000 size(_tag_to_location):50000 Max points: 50000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20   229381.24              241.99       14464.34       99.23
  40   161300.40              375.80       12233.65       99.91
  60   122325.69              492.58       19564.34       99.98
  80   100500.01              614.73       19298.83       99.99
 100    85982.94              720.20       23964.71      100.00
Done searching. Now saving results 
basic_ios::clear: iostream error
Index search failed.
===== Iteration 2 =====
L2: Using AVX2 distance computation DistanceL2Float
Read 0 points using non-cached reads in 4.2e-05
load aligned bin succeeded
Index start points set: #1
Initial non-incremental index build time for 0 points took 3e-05 seconds (0 points/second)
 
Inserting from 0 to 75000
Read 75000 points using non-cached reads in 0.029835
Insertion time 2.67766 seconds (28009.5 points/second overall, 875.297 per thread)
 
Lazy deleting points 0 to 25000... done.
Starting consolidate_deletes...  done in 2.06281 seconds.
#active points: 50000
max points: 75000
empty slots: 25000
deletes processed: 25000
latest delete size: 0
rate: (12119.4 points/second overall, 378.731 per thread)
Time Elapsed 4774ms
#dangling references after data compaction: 0
Time taken for compact_data: 0.026116s.
Writing bin: index/sift/sift.after-concurrent-delete-del25000-75000.tags
bin: #pts = 50001, #dims = 1, size = 200012B
Finished writing bin.
Time taken for save: 0.053093s.
Reading bin file data/sift/sift_query.bin ...
#pts in part = 10000, #dims = 128, size = 5120000B
Finished reading part of the bin file.
Finished converting part data to float.
Reading bin file index/sift/sift.after-concurrent-delete-del25000-75000.tags ...
Opening bin file index/sift/sift.after-concurrent-delete-del25000-75000.tags... 
Metadata: #pts = 50001, #dims = 1...
done.
Reading bin file index/sift/sift.after-concurrent-delete-del25000-75000.data ...
#pts = 50001, #dims = 128
Number of parts: 1
Reading bin file index/sift/sift.after-concurrent-delete-del25000-75000.data ...
#pts in part = 50001, #dims = 128, size = 25600512B
Finished reading part of the bin file.
Finished converting part data to float.
Going to compute 100 NNs for 10000 queries over 50001 points in 128 dimensions using L2 distance fn. 
Computed distances for queries: [0,512)
Computed exact k-NN for queries: [0,512)
Computed distances for queries: [512,1024)
Computed exact k-NN for queries: [512,1024)
Computed distances for queries: [1024,1536)
Computed exact k-NN for queries: [1024,1536)
Computed distances for queries: [1536,2048)
Computed exact k-NN for queries: [1536,2048)
Computed distances for queries: [2048,2560)
Computed exact k-NN for queries: [2048,2560)
Computed distances for queries: [2560,3072)
Computed exact k-NN for queries: [2560,3072)
Computed distances for queries: [3072,3584)
Computed exact k-NN for queries: [3072,3584)
Computed distances for queries: [3584,4096)
Computed exact k-NN for queries: [3584,4096)
Computed distances for queries: [4096,4608)
Computed exact k-NN for queries: [4096,4608)
Computed distances for queries: [4608,5120)
Computed exact k-NN for queries: [4608,5120)
Computed distances for queries: [5120,5632)
Computed exact k-NN for queries: [5120,5632)
Computed distances for queries: [5632,6144)
Computed exact k-NN for queries: [5632,6144)
Computed distances for queries: [6144,6656)
Computed exact k-NN for queries: [6144,6656)
Computed distances for queries: [6656,7168)
Computed exact k-NN for queries: [6656,7168)
Computed distances for queries: [7168,7680)
Computed exact k-NN for queries: [7168,7680)
Computed distances for queries: [7680,8192)
Computed exact k-NN for queries: [7680,8192)
Computed distances for queries: [8192,8704)
Computed exact k-NN for queries: [8192,8704)
Computed distances for queries: [8704,9216)
Computed exact k-NN for queries: [8704,9216)
Computed distances for queries: [9216,9728)
Computed exact k-NN for queries: [9216,9728)
Computed distances for queries: [9728,10000)
Computed exact k-NN for queries: [9728,10000)
Saving truthset in one file (npts, dim, npts*dim id-matrix, npts*dim dist-matrix) with npts = 10000, dim = 100, size = 8000008B
Finished writing truthset
Reading (with alignment) bin file data/sift/sift_query.bin ...Metadata: #pts = 10000, #dims = 128, aligned_dim = 128... allocating aligned memory of 5120000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: data/sift/sift_groundtruth.bin, size: 8000008, cache_size: 8000008
Reading truthset file data/sift/sift_groundtruth.bin ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.00112321s
Reading bin file index/sift/sift.after-concurrent-delete-del25000-75000.tags ...
Opening bin file index/sift/sift.after-concurrent-delete-del25000-75000.tags... 
Metadata: #pts = 50001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 10441492, _max_observed_degree: 75, _start: 50000, file_frozen_pts: 1
Loading vamana graph index/sift/sift.after-concurrent-delete-del25000-75000...done. Index has 50001 nodes and 2560366 out-edges, _start is set to 50000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 50000 _start: 50000 size(_location_to_tag): 50000 size(_tag_to_location):50000 Max points: 50000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20   225803.75              244.00       11215.98       99.23
  40   154003.78              384.65       13697.92       99.91
  60   120970.98              500.58       16768.00       99.98
  80    98107.46              620.74       46602.15       99.99
 100    84426.52              732.58       16779.76      100.00
Done searching. Now saving results 
basic_ios::clear: iostream error
Index search failed.
===== Iteration 3 =====
L2: Using AVX2 distance computation DistanceL2Float
Read 0 points using non-cached reads in 3.1e-05
load aligned bin succeeded
Index start points set: #1
Initial non-incremental index build time for 0 points took 1.8e-05 seconds (0 points/second)
 
Inserting from 0 to 75000
Read 75000 points using non-cached reads in 0.018652
Insertion time 2.69142 seconds (27866.3 points/second overall, 870.822 per thread)
 
Lazy deleting points 0 to 25000... done.
Starting consolidate_deletes...  done in 2.11866 seconds.
#active points: 50000
max points: 75000
empty slots: 25000
deletes processed: 25000
latest delete size: 0
rate: (11799.9 points/second overall, 368.748 per thread)
Time Elapsed 4833ms
#dangling references after data compaction: 0
Time taken for compact_data: 0.026534s.
Writing bin: index/sift/sift.after-concurrent-delete-del25000-75000.tags
bin: #pts = 50001, #dims = 1, size = 200012B
Finished writing bin.
Time taken for save: 0.05362s.
Reading bin file data/sift/sift_query.bin ...
#pts in part = 10000, #dims = 128, size = 5120000B
Finished reading part of the bin file.
Finished converting part data to float.
Reading bin file index/sift/sift.after-concurrent-delete-del25000-75000.tags ...
Opening bin file index/sift/sift.after-concurrent-delete-del25000-75000.tags... 
Metadata: #pts = 50001, #dims = 1...
done.
Reading bin file index/sift/sift.after-concurrent-delete-del25000-75000.data ...
#pts = 50001, #dims = 128
Number of parts: 1
Reading bin file index/sift/sift.after-concurrent-delete-del25000-75000.data ...
#pts in part = 50001, #dims = 128, size = 25600512B
Finished reading part of the bin file.
Finished converting part data to float.
Going to compute 100 NNs for 10000 queries over 50001 points in 128 dimensions using L2 distance fn. 
Computed distances for queries: [0,512)
Computed exact k-NN for queries: [0,512)
Computed distances for queries: [512,1024)
Computed exact k-NN for queries: [512,1024)
Computed distances for queries: [1024,1536)
Computed exact k-NN for queries: [1024,1536)
Computed distances for queries: [1536,2048)
Computed exact k-NN for queries: [1536,2048)
Computed distances for queries: [2048,2560)
Computed exact k-NN for queries: [2048,2560)
Computed distances for queries: [2560,3072)
Computed exact k-NN for queries: [2560,3072)
Computed distances for queries: [3072,3584)
Computed exact k-NN for queries: [3072,3584)
Computed distances for queries: [3584,4096)
Computed exact k-NN for queries: [3584,4096)
Computed distances for queries: [4096,4608)
Computed exact k-NN for queries: [4096,4608)
Computed distances for queries: [4608,5120)
Computed exact k-NN for queries: [4608,5120)
Computed distances for queries: [5120,5632)
Computed exact k-NN for queries: [5120,5632)
Computed distances for queries: [5632,6144)
Computed exact k-NN for queries: [5632,6144)
Computed distances for queries: [6144,6656)
Computed exact k-NN for queries: [6144,6656)
Computed distances for queries: [6656,7168)
Computed exact k-NN for queries: [6656,7168)
Computed distances for queries: [7168,7680)
Computed exact k-NN for queries: [7168,7680)
Computed distances for queries: [7680,8192)
Computed exact k-NN for queries: [7680,8192)
Computed distances for queries: [8192,8704)
Computed exact k-NN for queries: [8192,8704)
Computed distances for queries: [8704,9216)
Computed exact k-NN for queries: [8704,9216)
Computed distances for queries: [9216,9728)
Computed exact k-NN for queries: [9216,9728)
Computed distances for queries: [9728,10000)
Computed exact k-NN for queries: [9728,10000)
Saving truthset in one file (npts, dim, npts*dim id-matrix, npts*dim dist-matrix) with npts = 10000, dim = 100, size = 8000008B
Finished writing truthset
Reading (with alignment) bin file data/sift/sift_query.bin ...Metadata: #pts = 10000, #dims = 128, aligned_dim = 128... allocating aligned memory of 5120000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: data/sift/sift_groundtruth.bin, size: 8000008, cache_size: 8000008
Reading truthset file data/sift/sift_groundtruth.bin ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.00175127s
Reading bin file index/sift/sift.after-concurrent-delete-del25000-75000.tags ...
Opening bin file index/sift/sift.after-concurrent-delete-del25000-75000.tags... 
Metadata: #pts = 50001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 10441700, _max_observed_degree: 64, _start: 50000, file_frozen_pts: 1
Loading vamana graph index/sift/sift.after-concurrent-delete-del25000-75000...done. Index has 50001 nodes and 2560418 out-edges, _start is set to 50000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 50000 _start: 50000 size(_location_to_tag): 50000 size(_tag_to_location):50000 Max points: 50000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20   226757.47              232.36       16987.61       99.22
  40   152354.47              395.71       15349.06       99.91
  60   122138.30              496.96       15109.08       99.98
  80    99893.06              614.52       17320.45       99.99
 100    84501.14              735.51       16762.77      100.00
Done searching. Now saving results 
basic_ios::clear: iostream error
Index search failed.
===== Iteration 4 =====
L2: Using AVX2 distance computation DistanceL2Float
Read 0 points using non-cached reads in 3.2e-05
load aligned bin succeeded
Index start points set: #1
Initial non-incremental index build time for 0 points took 1.9e-05 seconds (0 points/second)
 
Inserting from 0 to 75000
Read 75000 points using non-cached reads in 0.022006
Insertion time 2.6602 seconds (28193.4 points/second overall, 881.043 per thread)
 
Lazy deleting points 0 to 25000... done.
Starting consolidate_deletes...  done in 2.05775 seconds.
#active points: 50000
max points: 75000
empty slots: 25000
deletes processed: 25000
latest delete size: 0
rate: (12149.2 points/second overall, 379.662 per thread)
Time Elapsed 4744ms
#dangling references after data compaction: 0
Time taken for compact_data: 0.02613s.
Writing bin: index/sift/sift.after-concurrent-delete-del25000-75000.tags
bin: #pts = 50001, #dims = 1, size = 200012B
Finished writing bin.
Time taken for save: 0.054582s.
Reading bin file data/sift/sift_query.bin ...
#pts in part = 10000, #dims = 128, size = 5120000B
Finished reading part of the bin file.
Finished converting part data to float.
Reading bin file index/sift/sift.after-concurrent-delete-del25000-75000.tags ...
Opening bin file index/sift/sift.after-concurrent-delete-del25000-75000.tags... 
Metadata: #pts = 50001, #dims = 1...
done.
Reading bin file index/sift/sift.after-concurrent-delete-del25000-75000.data ...
#pts = 50001, #dims = 128
Number of parts: 1
Reading bin file index/sift/sift.after-concurrent-delete-del25000-75000.data ...
#pts in part = 50001, #dims = 128, size = 25600512B
Finished reading part of the bin file.
Finished converting part data to float.
Going to compute 100 NNs for 10000 queries over 50001 points in 128 dimensions using L2 distance fn. 
Computed distances for queries: [0,512)
Computed exact k-NN for queries: [0,512)
Computed distances for queries: [512,1024)
Computed exact k-NN for queries: [512,1024)
Computed distances for queries: [1024,1536)
Computed exact k-NN for queries: [1024,1536)
Computed distances for queries: [1536,2048)
Computed exact k-NN for queries: [1536,2048)
Computed distances for queries: [2048,2560)
Computed exact k-NN for queries: [2048,2560)
Computed distances for queries: [2560,3072)
Computed exact k-NN for queries: [2560,3072)
Computed distances for queries: [3072,3584)
Computed exact k-NN for queries: [3072,3584)
Computed distances for queries: [3584,4096)
Computed exact k-NN for queries: [3584,4096)
Computed distances for queries: [4096,4608)
Computed exact k-NN for queries: [4096,4608)
Computed distances for queries: [4608,5120)
Computed exact k-NN for queries: [4608,5120)
Computed distances for queries: [5120,5632)
Computed exact k-NN for queries: [5120,5632)
Computed distances for queries: [5632,6144)
Computed exact k-NN for queries: [5632,6144)
Computed distances for queries: [6144,6656)
Computed exact k-NN for queries: [6144,6656)
Computed distances for queries: [6656,7168)
Computed exact k-NN for queries: [6656,7168)
Computed distances for queries: [7168,7680)
Computed exact k-NN for queries: [7168,7680)
Computed distances for queries: [7680,8192)
Computed exact k-NN for queries: [7680,8192)
Computed distances for queries: [8192,8704)
Computed exact k-NN for queries: [8192,8704)
Computed distances for queries: [8704,9216)
Computed exact k-NN for queries: [8704,9216)
Computed distances for queries: [9216,9728)
Computed exact k-NN for queries: [9216,9728)
Computed distances for queries: [9728,10000)
Computed exact k-NN for queries: [9728,10000)
Saving truthset in one file (npts, dim, npts*dim id-matrix, npts*dim dist-matrix) with npts = 10000, dim = 100, size = 8000008B
Finished writing truthset
Reading (with alignment) bin file data/sift/sift_query.bin ...Metadata: #pts = 10000, #dims = 128, aligned_dim = 128... allocating aligned memory of 5120000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: data/sift/sift_groundtruth.bin, size: 8000008, cache_size: 8000008
Reading truthset file data/sift/sift_groundtruth.bin ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.00104621s
Reading bin file index/sift/sift.after-concurrent-delete-del25000-75000.tags ...
Opening bin file index/sift/sift.after-concurrent-delete-del25000-75000.tags... 
Metadata: #pts = 50001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 10441524, _max_observed_degree: 64, _start: 50000, file_frozen_pts: 1
Loading vamana graph index/sift/sift.after-concurrent-delete-del25000-75000...done. Index has 50001 nodes and 2560374 out-edges, _start is set to 50000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 50000 _start: 50000 size(_location_to_tag): 50000 size(_tag_to_location):50000 Max points: 50000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20   233794.42              234.27       15160.78       99.23
  40   160789.34              370.28       14281.87       99.91
  60   122005.74              495.27       48602.55       99.98
  80   100733.76              613.14       23984.14       99.99
 100    86328.33              718.54       17966.21      100.00
Done searching. Now saving results 
basic_ios::clear: iostream error
Index search failed.
===== Iteration 5 =====
L2: Using AVX2 distance computation DistanceL2Float
Read 0 points using non-cached reads in 3.5e-05
load aligned bin succeeded
Index start points set: #1
Initial non-incremental index build time for 0 points took 1.8e-05 seconds (0 points/second)
 
Inserting from 0 to 75000
Read 75000 points using non-cached reads in 0.025558
Insertion time 2.66838 seconds (28106.9 points/second overall, 878.341 per thread)
 
Lazy deleting points 0 to 25000... done.
Starting consolidate_deletes...  done in 2.09492 seconds.
#active points: 50000
max points: 75000
empty slots: 25000
deletes processed: 25000
latest delete size: 0
rate: (11933.6 points/second overall, 372.926 per thread)
Time Elapsed 4793ms
#dangling references after data compaction: 0
Time taken for compact_data: 0.026819s.
Writing bin: index/sift/sift.after-concurrent-delete-del25000-75000.tags
bin: #pts = 50001, #dims = 1, size = 200012B
Finished writing bin.
Time taken for save: 0.054702s.
Reading bin file data/sift/sift_query.bin ...
#pts in part = 10000, #dims = 128, size = 5120000B
Finished reading part of the bin file.
Finished converting part data to float.
Reading bin file index/sift/sift.after-concurrent-delete-del25000-75000.tags ...
Opening bin file index/sift/sift.after-concurrent-delete-del25000-75000.tags... 
Metadata: #pts = 50001, #dims = 1...
done.
Reading bin file index/sift/sift.after-concurrent-delete-del25000-75000.data ...
#pts = 50001, #dims = 128
Number of parts: 1
Reading bin file index/sift/sift.after-concurrent-delete-del25000-75000.data ...
#pts in part = 50001, #dims = 128, size = 25600512B
Finished reading part of the bin file.
Finished converting part data to float.
Going to compute 100 NNs for 10000 queries over 50001 points in 128 dimensions using L2 distance fn. 
Computed distances for queries: [0,512)
Computed exact k-NN for queries: [0,512)
Computed distances for queries: [512,1024)
Computed exact k-NN for queries: [512,1024)
Computed distances for queries: [1024,1536)
Computed exact k-NN for queries: [1024,1536)
Computed distances for queries: [1536,2048)
Computed exact k-NN for queries: [1536,2048)
Computed distances for queries: [2048,2560)
Computed exact k-NN for queries: [2048,2560)
Computed distances for queries: [2560,3072)
Computed exact k-NN for queries: [2560,3072)
Computed distances for queries: [3072,3584)
Computed exact k-NN for queries: [3072,3584)
Computed distances for queries: [3584,4096)
Computed exact k-NN for queries: [3584,4096)
Computed distances for queries: [4096,4608)
Computed exact k-NN for queries: [4096,4608)
Computed distances for queries: [4608,5120)
Computed exact k-NN for queries: [4608,5120)
Computed distances for queries: [5120,5632)
Computed exact k-NN for queries: [5120,5632)
Computed distances for queries: [5632,6144)
Computed exact k-NN for queries: [5632,6144)
Computed distances for queries: [6144,6656)
Computed exact k-NN for queries: [6144,6656)
Computed distances for queries: [6656,7168)
Computed exact k-NN for queries: [6656,7168)
Computed distances for queries: [7168,7680)
Computed exact k-NN for queries: [7168,7680)
Computed distances for queries: [7680,8192)
Computed exact k-NN for queries: [7680,8192)
Computed distances for queries: [8192,8704)
Computed exact k-NN for queries: [8192,8704)
Computed distances for queries: [8704,9216)
Computed exact k-NN for queries: [8704,9216)
Computed distances for queries: [9216,9728)
Computed exact k-NN for queries: [9216,9728)
Computed distances for queries: [9728,10000)
Computed exact k-NN for queries: [9728,10000)
Saving truthset in one file (npts, dim, npts*dim id-matrix, npts*dim dist-matrix) with npts = 10000, dim = 100, size = 8000008B
Finished writing truthset
Reading (with alignment) bin file data/sift/sift_query.bin ...Metadata: #pts = 10000, #dims = 128, aligned_dim = 128... allocating aligned memory of 5120000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: data/sift/sift_groundtruth.bin, size: 8000008, cache_size: 8000008
Reading truthset file data/sift/sift_groundtruth.bin ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.00115204s
Reading bin file index/sift/sift.after-concurrent-delete-del25000-75000.tags ...
Opening bin file index/sift/sift.after-concurrent-delete-del25000-75000.tags... 
Metadata: #pts = 50001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 10441892, _max_observed_degree: 64, _start: 50000, file_frozen_pts: 1
Loading vamana graph index/sift/sift.after-concurrent-delete-del25000-75000...done. Index has 50001 nodes and 2560466 out-edges, _start is set to 50000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 50000 _start: 50000 size(_location_to_tag): 50000 size(_tag_to_location):50000 Max points: 50000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20   240179.08              235.64       13096.39       99.25
  40   159359.09              372.68       12199.97       99.91
  60   121558.27              500.66       16511.79       99.98
  80    99303.73              616.09       24578.09       99.99
 100    85501.49              719.37       23663.96      100.00
Done searching. Now saving results 
basic_ios::clear: iostream error
Index search failed.
===== Iteration 6 =====
L2: Using AVX2 distance computation DistanceL2Float
Read 0 points using non-cached reads in 2.5e-05
load aligned bin succeeded
Index start points set: #1
Initial non-incremental index build time for 0 points took 2e-05 seconds (0 points/second)
 
Inserting from 0 to 75000
Read 75000 points using non-cached reads in 0.018083
Insertion time 2.76737 seconds (27101.5 points/second overall, 846.922 per thread)
 
Lazy deleting points 0 to 25000... done.
Starting consolidate_deletes...  done in 2.11191 seconds.
#active points: 50000
max points: 75000
empty slots: 25000
deletes processed: 25000
latest delete size: 0
rate: (11837.6 points/second overall, 369.927 per thread)
Time Elapsed 4902ms
#dangling references after data compaction: 0
Time taken for compact_data: 0.026317s.
Writing bin: index/sift/sift.after-concurrent-delete-del25000-75000.tags
bin: #pts = 50001, #dims = 1, size = 200012B
Finished writing bin.
Time taken for save: 0.05357s.
Reading bin file data/sift/sift_query.bin ...
#pts in part = 10000, #dims = 128, size = 5120000B
Finished reading part of the bin file.
Finished converting part data to float.
Reading bin file index/sift/sift.after-concurrent-delete-del25000-75000.tags ...
Opening bin file index/sift/sift.after-concurrent-delete-del25000-75000.tags... 
Metadata: #pts = 50001, #dims = 1...
done.
Reading bin file index/sift/sift.after-concurrent-delete-del25000-75000.data ...
#pts = 50001, #dims = 128
Number of parts: 1
Reading bin file index/sift/sift.after-concurrent-delete-del25000-75000.data ...
#pts in part = 50001, #dims = 128, size = 25600512B
Finished reading part of the bin file.
Finished converting part data to float.
Going to compute 100 NNs for 10000 queries over 50001 points in 128 dimensions using L2 distance fn. 
Computed distances for queries: [0,512)
Computed exact k-NN for queries: [0,512)
Computed distances for queries: [512,1024)
Computed exact k-NN for queries: [512,1024)
Computed distances for queries: [1024,1536)
Computed exact k-NN for queries: [1024,1536)
Computed distances for queries: [1536,2048)
Computed exact k-NN for queries: [1536,2048)
Computed distances for queries: [2048,2560)
Computed exact k-NN for queries: [2048,2560)
Computed distances for queries: [2560,3072)
Computed exact k-NN for queries: [2560,3072)
Computed distances for queries: [3072,3584)
Computed exact k-NN for queries: [3072,3584)
Computed distances for queries: [3584,4096)
Computed exact k-NN for queries: [3584,4096)
Computed distances for queries: [4096,4608)
Computed exact k-NN for queries: [4096,4608)
Computed distances for queries: [4608,5120)
Computed exact k-NN for queries: [4608,5120)
Computed distances for queries: [5120,5632)
Computed exact k-NN for queries: [5120,5632)
Computed distances for queries: [5632,6144)
Computed exact k-NN for queries: [5632,6144)
Computed distances for queries: [6144,6656)
Computed exact k-NN for queries: [6144,6656)
Computed distances for queries: [6656,7168)
Computed exact k-NN for queries: [6656,7168)
Computed distances for queries: [7168,7680)
Computed exact k-NN for queries: [7168,7680)
Computed distances for queries: [7680,8192)
Computed exact k-NN for queries: [7680,8192)
Computed distances for queries: [8192,8704)
Computed exact k-NN for queries: [8192,8704)
Computed distances for queries: [8704,9216)
Computed exact k-NN for queries: [8704,9216)
Computed distances for queries: [9216,9728)
Computed exact k-NN for queries: [9216,9728)
Computed distances for queries: [9728,10000)
Computed exact k-NN for queries: [9728,10000)
Saving truthset in one file (npts, dim, npts*dim id-matrix, npts*dim dist-matrix) with npts = 10000, dim = 100, size = 8000008B
Finished writing truthset
Reading (with alignment) bin file data/sift/sift_query.bin ...Metadata: #pts = 10000, #dims = 128, aligned_dim = 128... allocating aligned memory of 5120000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: data/sift/sift_groundtruth.bin, size: 8000008, cache_size: 8000008
Reading truthset file data/sift/sift_groundtruth.bin ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.00121144s
Reading bin file index/sift/sift.after-concurrent-delete-del25000-75000.tags ...
Opening bin file index/sift/sift.after-concurrent-delete-del25000-75000.tags... 
Metadata: #pts = 50001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 10441520, _max_observed_degree: 64, _start: 50000, file_frozen_pts: 1
Loading vamana graph index/sift/sift.after-concurrent-delete-del25000-75000...done. Index has 50001 nodes and 2560373 out-edges, _start is set to 50000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 50000 _start: 50000 size(_location_to_tag): 50000 size(_tag_to_location):50000 Max points: 50000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20   215668.98              247.93       11187.74       99.24
  40   160959.08              372.33       14926.43       99.92
  60   122115.29              489.42       17341.48       99.98
  80    92177.90              660.48       19461.06       99.99
 100    86236.35              716.70       20925.26      100.00
Done searching. Now saving results 
basic_ios::clear: iostream error
Index search failed.
===== Iteration 7 =====
L2: Using AVX2 distance computation DistanceL2Float
Read 0 points using non-cached reads in 3.1e-05
load aligned bin succeeded
Index start points set: #1
Initial non-incremental index build time for 0 points took 1.8e-05 seconds (0 points/second)
 
Inserting from 0 to 75000
Read 75000 points using non-cached reads in 0.027134
Insertion time 2.69228 seconds (27857.4 points/second overall, 870.544 per thread)
 
Lazy deleting points 0 to 25000... done.
Starting consolidate_deletes...  done in 2.05902 seconds.
#active points: 50000
max points: 75000
empty slots: 25000
deletes processed: 25000
latest delete size: 0
rate: (12141.7 points/second overall, 379.429 per thread)
Time Elapsed 4783ms
#dangling references after data compaction: 0
Time taken for compact_data: 0.026037s.
Writing bin: index/sift/sift.after-concurrent-delete-del25000-75000.tags
bin: #pts = 50001, #dims = 1, size = 200012B
Finished writing bin.
Time taken for save: 0.053182s.
Reading bin file data/sift/sift_query.bin ...
#pts in part = 10000, #dims = 128, size = 5120000B
Finished reading part of the bin file.
Finished converting part data to float.
Reading bin file index/sift/sift.after-concurrent-delete-del25000-75000.tags ...
Opening bin file index/sift/sift.after-concurrent-delete-del25000-75000.tags... 
Metadata: #pts = 50001, #dims = 1...
done.
Reading bin file index/sift/sift.after-concurrent-delete-del25000-75000.data ...
#pts = 50001, #dims = 128
Number of parts: 1
Reading bin file index/sift/sift.after-concurrent-delete-del25000-75000.data ...
#pts in part = 50001, #dims = 128, size = 25600512B
Finished reading part of the bin file.
Finished converting part data to float.
Going to compute 100 NNs for 10000 queries over 50001 points in 128 dimensions using L2 distance fn. 
Computed distances for queries: [0,512)
Computed exact k-NN for queries: [0,512)
Computed distances for queries: [512,1024)
Computed exact k-NN for queries: [512,1024)
Computed distances for queries: [1024,1536)
Computed exact k-NN for queries: [1024,1536)
Computed distances for queries: [1536,2048)
Computed exact k-NN for queries: [1536,2048)
Computed distances for queries: [2048,2560)
Computed exact k-NN for queries: [2048,2560)
Computed distances for queries: [2560,3072)
Computed exact k-NN for queries: [2560,3072)
Computed distances for queries: [3072,3584)
Computed exact k-NN for queries: [3072,3584)
Computed distances for queries: [3584,4096)
Computed exact k-NN for queries: [3584,4096)
Computed distances for queries: [4096,4608)
Computed exact k-NN for queries: [4096,4608)
Computed distances for queries: [4608,5120)
Computed exact k-NN for queries: [4608,5120)
Computed distances for queries: [5120,5632)
Computed exact k-NN for queries: [5120,5632)
Computed distances for queries: [5632,6144)
Computed exact k-NN for queries: [5632,6144)
Computed distances for queries: [6144,6656)
Computed exact k-NN for queries: [6144,6656)
Computed distances for queries: [6656,7168)
Computed exact k-NN for queries: [6656,7168)
Computed distances for queries: [7168,7680)
Computed exact k-NN for queries: [7168,7680)
Computed distances for queries: [7680,8192)
Computed exact k-NN for queries: [7680,8192)
Computed distances for queries: [8192,8704)
Computed exact k-NN for queries: [8192,8704)
Computed distances for queries: [8704,9216)
Computed exact k-NN for queries: [8704,9216)
Computed distances for queries: [9216,9728)
Computed exact k-NN for queries: [9216,9728)
Computed distances for queries: [9728,10000)
Computed exact k-NN for queries: [9728,10000)
Saving truthset in one file (npts, dim, npts*dim id-matrix, npts*dim dist-matrix) with npts = 10000, dim = 100, size = 8000008B
Finished writing truthset
Reading (with alignment) bin file data/sift/sift_query.bin ...Metadata: #pts = 10000, #dims = 128, aligned_dim = 128... allocating aligned memory of 5120000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: data/sift/sift_groundtruth.bin, size: 8000008, cache_size: 8000008
Reading truthset file data/sift/sift_groundtruth.bin ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.00136692s
Reading bin file index/sift/sift.after-concurrent-delete-del25000-75000.tags ...
Opening bin file index/sift/sift.after-concurrent-delete-del25000-75000.tags... 
Metadata: #pts = 50001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 10442116, _max_observed_degree: 64, _start: 50000, file_frozen_pts: 1
Loading vamana graph index/sift/sift.after-concurrent-delete-del25000-75000...done. Index has 50001 nodes and 2560522 out-edges, _start is set to 50000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 50000 _start: 50000 size(_location_to_tag): 50000 size(_tag_to_location):50000 Max points: 50000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20   238939.03              229.60       13179.63       99.24
  40   158631.57              383.83       11165.04       99.92
  60   121281.01              499.78       15900.50       99.98
  80    99262.61              613.71       13348.14       99.99
 100    85045.58              729.61       19112.70      100.00
Done searching. Now saving results 
basic_ios::clear: iostream error
Index search failed.
===== Iteration 8 =====
L2: Using AVX2 distance computation DistanceL2Float
Read 0 points using non-cached reads in 3.2e-05
load aligned bin succeeded
Index start points set: #1
Initial non-incremental index build time for 0 points took 1.7e-05 seconds (0 points/second)
 
Inserting from 0 to 75000
Read 75000 points using non-cached reads in 0.020701
Insertion time 2.64647 seconds (28339.7 points/second overall, 885.615 per thread)
 
Lazy deleting points 0 to 25000... done.
Starting consolidate_deletes...  done in 2.07175 seconds.
#active points: 50000
max points: 75000
empty slots: 25000
deletes processed: 25000
latest delete size: 0
rate: (12067.1 points/second overall, 377.096 per thread)
Time Elapsed 4743ms
#dangling references after data compaction: 0
Time taken for compact_data: 0.026602s.
Writing bin: index/sift/sift.after-concurrent-delete-del25000-75000.tags
bin: #pts = 50001, #dims = 1, size = 200012B
Finished writing bin.
Time taken for save: 0.054107s.
Reading bin file data/sift/sift_query.bin ...
#pts in part = 10000, #dims = 128, size = 5120000B
Finished reading part of the bin file.
Finished converting part data to float.
Reading bin file index/sift/sift.after-concurrent-delete-del25000-75000.tags ...
Opening bin file index/sift/sift.after-concurrent-delete-del25000-75000.tags... 
Metadata: #pts = 50001, #dims = 1...
done.
Reading bin file index/sift/sift.after-concurrent-delete-del25000-75000.data ...
#pts = 50001, #dims = 128
Number of parts: 1
Reading bin file index/sift/sift.after-concurrent-delete-del25000-75000.data ...
#pts in part = 50001, #dims = 128, size = 25600512B
Finished reading part of the bin file.
Finished converting part data to float.
Going to compute 100 NNs for 10000 queries over 50001 points in 128 dimensions using L2 distance fn. 
Computed distances for queries: [0,512)
Computed exact k-NN for queries: [0,512)
Computed distances for queries: [512,1024)
Computed exact k-NN for queries: [512,1024)
Computed distances for queries: [1024,1536)
Computed exact k-NN for queries: [1024,1536)
Computed distances for queries: [1536,2048)
Computed exact k-NN for queries: [1536,2048)
Computed distances for queries: [2048,2560)
Computed exact k-NN for queries: [2048,2560)
Computed distances for queries: [2560,3072)
Computed exact k-NN for queries: [2560,3072)
Computed distances for queries: [3072,3584)
Computed exact k-NN for queries: [3072,3584)
Computed distances for queries: [3584,4096)
Computed exact k-NN for queries: [3584,4096)
Computed distances for queries: [4096,4608)
Computed exact k-NN for queries: [4096,4608)
Computed distances for queries: [4608,5120)
Computed exact k-NN for queries: [4608,5120)
Computed distances for queries: [5120,5632)
Computed exact k-NN for queries: [5120,5632)
Computed distances for queries: [5632,6144)
Computed exact k-NN for queries: [5632,6144)
Computed distances for queries: [6144,6656)
Computed exact k-NN for queries: [6144,6656)
Computed distances for queries: [6656,7168)
Computed exact k-NN for queries: [6656,7168)
Computed distances for queries: [7168,7680)
Computed exact k-NN for queries: [7168,7680)
Computed distances for queries: [7680,8192)
Computed exact k-NN for queries: [7680,8192)
Computed distances for queries: [8192,8704)
Computed exact k-NN for queries: [8192,8704)
Computed distances for queries: [8704,9216)
Computed exact k-NN for queries: [8704,9216)
Computed distances for queries: [9216,9728)
Computed exact k-NN for queries: [9216,9728)
Computed distances for queries: [9728,10000)
Computed exact k-NN for queries: [9728,10000)
Saving truthset in one file (npts, dim, npts*dim id-matrix, npts*dim dist-matrix) with npts = 10000, dim = 100, size = 8000008B
Finished writing truthset
Reading (with alignment) bin file data/sift/sift_query.bin ...Metadata: #pts = 10000, #dims = 128, aligned_dim = 128... allocating aligned memory of 5120000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: data/sift/sift_groundtruth.bin, size: 8000008, cache_size: 8000008
Reading truthset file data/sift/sift_groundtruth.bin ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.00112336s
Reading bin file index/sift/sift.after-concurrent-delete-del25000-75000.tags ...
Opening bin file index/sift/sift.after-concurrent-delete-del25000-75000.tags... 
Metadata: #pts = 50001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 10441780, _max_observed_degree: 77, _start: 50000, file_frozen_pts: 1
Loading vamana graph index/sift/sift.after-concurrent-delete-del25000-75000...done. Index has 50001 nodes and 2560438 out-edges, _start is set to 50000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 50000 _start: 50000 size(_location_to_tag): 50000 size(_tag_to_location):50000 Max points: 50000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20   225653.83              263.36       13181.91       99.23
  40   155655.91              385.34       12629.41       99.91
  60   120710.94              502.72       13195.53       99.98
  80    99269.39              622.41       27908.63       99.99
 100    84925.29              731.74       16868.49      100.00
Done searching. Now saving results 
basic_ios::clear: iostream error
Index search failed.
===== Iteration 9 =====
L2: Using AVX2 distance computation DistanceL2Float
Read 0 points using non-cached reads in 3.3e-05
load aligned bin succeeded
Index start points set: #1
Initial non-incremental index build time for 0 points took 2.3e-05 seconds (0 points/second)
 
Inserting from 0 to 75000
Read 75000 points using non-cached reads in 0.01819
Insertion time 2.65726 seconds (28224.6 points/second overall, 882.018 per thread)
 
Lazy deleting points 0 to 25000... done.
Starting consolidate_deletes...  done in 2.05789 seconds.
#active points: 50000
max points: 75000
empty slots: 25000
deletes processed: 25000
latest delete size: 0
rate: (12148.4 points/second overall, 379.637 per thread)
Time Elapsed 4738ms
#dangling references after data compaction: 0
Time taken for compact_data: 0.030469s.
Writing bin: index/sift/sift.after-concurrent-delete-del25000-75000.tags
bin: #pts = 50001, #dims = 1, size = 200012B
Finished writing bin.
Time taken for save: 0.057235s.
Reading bin file data/sift/sift_query.bin ...
#pts in part = 10000, #dims = 128, size = 5120000B
Finished reading part of the bin file.
Finished converting part data to float.
Reading bin file index/sift/sift.after-concurrent-delete-del25000-75000.tags ...
Opening bin file index/sift/sift.after-concurrent-delete-del25000-75000.tags... 
Metadata: #pts = 50001, #dims = 1...
done.
Reading bin file index/sift/sift.after-concurrent-delete-del25000-75000.data ...
#pts = 50001, #dims = 128
Number of parts: 1
Reading bin file index/sift/sift.after-concurrent-delete-del25000-75000.data ...
#pts in part = 50001, #dims = 128, size = 25600512B
Finished reading part of the bin file.
Finished converting part data to float.
Going to compute 100 NNs for 10000 queries over 50001 points in 128 dimensions using L2 distance fn. 
Computed distances for queries: [0,512)
Computed exact k-NN for queries: [0,512)
Computed distances for queries: [512,1024)
Computed exact k-NN for queries: [512,1024)
Computed distances for queries: [1024,1536)
Computed exact k-NN for queries: [1024,1536)
Computed distances for queries: [1536,2048)
Computed exact k-NN for queries: [1536,2048)
Computed distances for queries: [2048,2560)
Computed exact k-NN for queries: [2048,2560)
Computed distances for queries: [2560,3072)
Computed exact k-NN for queries: [2560,3072)
Computed distances for queries: [3072,3584)
Computed exact k-NN for queries: [3072,3584)
Computed distances for queries: [3584,4096)
Computed exact k-NN for queries: [3584,4096)
Computed distances for queries: [4096,4608)
Computed exact k-NN for queries: [4096,4608)
Computed distances for queries: [4608,5120)
Computed exact k-NN for queries: [4608,5120)
Computed distances for queries: [5120,5632)
Computed exact k-NN for queries: [5120,5632)
Computed distances for queries: [5632,6144)
Computed exact k-NN for queries: [5632,6144)
Computed distances for queries: [6144,6656)
Computed exact k-NN for queries: [6144,6656)
Computed distances for queries: [6656,7168)
Computed exact k-NN for queries: [6656,7168)
Computed distances for queries: [7168,7680)
Computed exact k-NN for queries: [7168,7680)
Computed distances for queries: [7680,8192)
Computed exact k-NN for queries: [7680,8192)
Computed distances for queries: [8192,8704)
Computed exact k-NN for queries: [8192,8704)
Computed distances for queries: [8704,9216)
Computed exact k-NN for queries: [8704,9216)
Computed distances for queries: [9216,9728)
Computed exact k-NN for queries: [9216,9728)
Computed distances for queries: [9728,10000)
Computed exact k-NN for queries: [9728,10000)
Saving truthset in one file (npts, dim, npts*dim id-matrix, npts*dim dist-matrix) with npts = 10000, dim = 100, size = 8000008B
Finished writing truthset
Reading (with alignment) bin file data/sift/sift_query.bin ...Metadata: #pts = 10000, #dims = 128, aligned_dim = 128... allocating aligned memory of 5120000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: data/sift/sift_groundtruth.bin, size: 8000008, cache_size: 8000008
Reading truthset file data/sift/sift_groundtruth.bin ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.00104832s
Reading bin file index/sift/sift.after-concurrent-delete-del25000-75000.tags ...
Opening bin file index/sift/sift.after-concurrent-delete-del25000-75000.tags... 
Metadata: #pts = 50001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 10441568, _max_observed_degree: 65, _start: 50000, file_frozen_pts: 1
Loading vamana graph index/sift/sift.after-concurrent-delete-del25000-75000...done. Index has 50001 nodes and 2560385 out-edges, _start is set to 50000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 50000 _start: 50000 size(_location_to_tag): 50000 size(_tag_to_location):50000 Max points: 50000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20   232335.24              238.53       12208.41       99.24
  40   159430.75              373.00       12227.37       99.92
  60   122126.71              496.78       25728.59       99.98
  80   100085.09              616.05       21156.74       99.99
 100    85436.99              725.77       17797.93      100.00
Done searching. Now saving results 
basic_ios::clear: iostream error
Index search failed.
===== Iteration 10 =====
L2: Using AVX2 distance computation DistanceL2Float
Read 0 points using non-cached reads in 3.4e-05
load aligned bin succeeded
Index start points set: #1
Initial non-incremental index build time for 0 points took 2.5e-05 seconds (0 points/second)
 
Inserting from 0 to 75000
Read 75000 points using non-cached reads in 0.019367
Insertion time 2.65622 seconds (28235.6 points/second overall, 882.364 per thread)
 
Lazy deleting points 0 to 25000... done.
Starting consolidate_deletes...  done in 2.18347 seconds.
#active points: 50000
max points: 75000
empty slots: 25000
deletes processed: 25000
latest delete size: 0
rate: (11449.7 points/second overall, 357.803 per thread)
Time Elapsed 4863ms
#dangling references after data compaction: 0
Time taken for compact_data: 0.026729s.
Writing bin: index/sift/sift.after-concurrent-delete-del25000-75000.tags
bin: #pts = 50001, #dims = 1, size = 200012B
Finished writing bin.
Time taken for save: 0.05522s.
Reading bin file data/sift/sift_query.bin ...
#pts in part = 10000, #dims = 128, size = 5120000B
Finished reading part of the bin file.
Finished converting part data to float.
Reading bin file index/sift/sift.after-concurrent-delete-del25000-75000.tags ...
Opening bin file index/sift/sift.after-concurrent-delete-del25000-75000.tags... 
Metadata: #pts = 50001, #dims = 1...
done.
Reading bin file index/sift/sift.after-concurrent-delete-del25000-75000.data ...
#pts = 50001, #dims = 128
Number of parts: 1
Reading bin file index/sift/sift.after-concurrent-delete-del25000-75000.data ...
#pts in part = 50001, #dims = 128, size = 25600512B
Finished reading part of the bin file.
Finished converting part data to float.
Going to compute 100 NNs for 10000 queries over 50001 points in 128 dimensions using L2 distance fn. 
Computed distances for queries: [0,512)
Computed exact k-NN for queries: [0,512)
Computed distances for queries: [512,1024)
Computed exact k-NN for queries: [512,1024)
Computed distances for queries: [1024,1536)
Computed exact k-NN for queries: [1024,1536)
Computed distances for queries: [1536,2048)
Computed exact k-NN for queries: [1536,2048)
Computed distances for queries: [2048,2560)
Computed exact k-NN for queries: [2048,2560)
Computed distances for queries: [2560,3072)
Computed exact k-NN for queries: [2560,3072)
Computed distances for queries: [3072,3584)
Computed exact k-NN for queries: [3072,3584)
Computed distances for queries: [3584,4096)
Computed exact k-NN for queries: [3584,4096)
Computed distances for queries: [4096,4608)
Computed exact k-NN for queries: [4096,4608)
Computed distances for queries: [4608,5120)
Computed exact k-NN for queries: [4608,5120)
Computed distances for queries: [5120,5632)
Computed exact k-NN for queries: [5120,5632)
Computed distances for queries: [5632,6144)
Computed exact k-NN for queries: [5632,6144)
Computed distances for queries: [6144,6656)
Computed exact k-NN for queries: [6144,6656)
Computed distances for queries: [6656,7168)
Computed exact k-NN for queries: [6656,7168)
Computed distances for queries: [7168,7680)
Computed exact k-NN for queries: [7168,7680)
Computed distances for queries: [7680,8192)
Computed exact k-NN for queries: [7680,8192)
Computed distances for queries: [8192,8704)
Computed exact k-NN for queries: [8192,8704)
Computed distances for queries: [8704,9216)
Computed exact k-NN for queries: [8704,9216)
Computed distances for queries: [9216,9728)
Computed exact k-NN for queries: [9216,9728)
Computed distances for queries: [9728,10000)
Computed exact k-NN for queries: [9728,10000)
Saving truthset in one file (npts, dim, npts*dim id-matrix, npts*dim dist-matrix) with npts = 10000, dim = 100, size = 8000008B
Finished writing truthset
Reading (with alignment) bin file data/sift/sift_query.bin ...Metadata: #pts = 10000, #dims = 128, aligned_dim = 128... allocating aligned memory of 5120000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: data/sift/sift_groundtruth.bin, size: 8000008, cache_size: 8000008
Reading truthset file data/sift/sift_groundtruth.bin ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.00114013s
Reading bin file index/sift/sift.after-concurrent-delete-del25000-75000.tags ...
Opening bin file index/sift/sift.after-concurrent-delete-del25000-75000.tags... 
Metadata: #pts = 50001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 10441196, _max_observed_degree: 64, _start: 50000, file_frozen_pts: 1
Loading vamana graph index/sift/sift.after-concurrent-delete-del25000-75000...done. Index has 50001 nodes and 2560292 out-edges, _start is set to 50000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 50000 _start: 50000 size(_location_to_tag): 50000 size(_tag_to_location):50000 Max points: 50000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20   227585.11              243.06       14732.14       99.22
  40   162211.82              368.29       14195.42       99.92
  60   122776.79              492.70       15202.81       99.98
  80   100663.48              611.92       19438.88       99.99
 100    86296.49              715.56       15315.10      100.00
Done searching. Now saving results 
basic_ios::clear: iostream error
Index search failed.
