[1] Running streaming scenario (no filters)...
metadata: file data/sift/sift_learn.bin has 100000 points in 128 dims
L2: Using AVX2 distance computation DistanceL2Float
Index start points set: #1

Inserting from 0 to 20000
Insertion time 0.994837 seconds (20103.8 points/second overall, 1256.49 per thread)

Inserting from 20000 to 30000
Insertion time 0.74163 seconds (13483.8 points/second overall, 842.738 per thread)

Inserting from 30000 to 40000
Insertion time 0.832625 seconds (12010.2 points/second overall, 750.638 per thread)

Lazy deleting points 0 to 10000... lazy delete done.
Starting consolidate_deletes... 
Inserting from 40000 to 50000
 done in 1.9443 seconds.
#active   points: 30000
max points: 60000
empty slots: 30000
deletes processed: 10000
latest delete size: 0
Deletion rate: 20572.9/sec   Deletion rate: 1285.81/thread/sec   
Insertion time 2.74542 seconds (3642.43 points/second overall, 227.652 per thread)

Lazy deleting points 10000 to 20000... lazy delete done.
Starting consolidate_deletes... 
Inserting from 50000 to 60000
 done in 1.83466 seconds.
#active   points: 30000
max points: 60000
empty slots: 30000
deletes processed: 10000
latest delete size: 0
Deletion rate: 21802.4/sec   Deletion rate: 1362.65/thread/sec   
Insertion time 2.57678 seconds (3880.81 points/second overall, 242.551 per thread)

Lazy deleting points 20000 to 30000... lazy delete done.
Starting consolidate_deletes... 
Inserting from 60000 to 70000
 done in 1.95547 seconds.
#active   points: 30000
max points: 60000
empty slots: 30000
deletes processed: 10000
latest delete size: 0
Deletion rate: 20455.4/sec   Deletion rate: 1278.46/thread/sec   
Insertion time 2.70237 seconds (3700.46 points/second overall, 231.279 per thread)

Lazy deleting points 30000 to 40000... lazy delete done.
Starting consolidate_deletes... 
Inserting from 70000 to 80000
 done in 2.03741 seconds.
#active   points: 30000
max points: 60000
empty slots: 30000
deletes processed: 10000
latest delete size: 0
Deletion rate: 19632.8/sec   Deletion rate: 1227.05/thread/sec   
Insertion time 2.80837 seconds (3560.78 points/second overall, 222.549 per thread)

Lazy deleting points 40000 to 50000... lazy delete done.
Starting consolidate_deletes... 
Inserting from 80000 to 90000
 done in 1.8481 seconds.
#active   points: 30000
max points: 60000
empty slots: 30000
deletes processed: 10000
latest delete size: 0
Deletion rate: 21643.9/sec   Deletion rate: 1352.74/thread/sec   
Insertion time 2.59495 seconds (3853.64 points/second overall, 240.853 per thread)

Lazy deleting points 50000 to 60000... lazy delete done.
Starting consolidate_deletes... 
Inserting from 90000 to 100000
 done in 1.85719 seconds.
#active   points: 30000
max points: 60000
empty slots: 30000
deletes processed: 10000
latest delete size: 0
Deletion rate: 21537.9/sec   Deletion rate: 1346.12/thread/sec   
Insertion time 2.62325 seconds (3812.07 points/second overall, 238.254 per thread)

Lazy deleting points 60000 to 70000... lazy delete done.
Starting consolidate_deletes...  done in 1.85115 seconds.
#active   points: 30000
max points: 60000
empty slots: 30000
deletes processed: 10000
latest delete size: 0
Deletion rate: 21608.2/sec   Deletion rate: 1350.51/thread/sec   
Time Elapsed 20578ms
#dangling references after data compaction: 0
Time taken for compact_data: 0.044702s.
Writing bin: index/sift/idx_learn_str.after-streaming-act20000-cons10000-max100000.tags
bin: #pts = 30001, #dims = 1, size = 120012B
Finished writing bin.
Time taken for save: 0.061935s.
[2] Computing ground truth (no filters)...
Reading bin file data/sift/sift_query.bin ...
#pts in part = 10000, #dims = 128, size = 5120000B
Finished reading part of the bin file.
Finished converting part data to float.
Reading bin file index/sift/idx_learn_str.after-streaming-act20000-cons10000-max100000.tags ...
Opening bin file index/sift/idx_learn_str.after-streaming-act20000-cons10000-max100000.tags... 
Metadata: #pts = 30001, #dims = 1...
done.
Reading bin file index/sift/idx_learn_str.after-streaming-act20000-cons10000-max100000.data ...
#pts = 30001, #dims = 128
Number of parts: 1
Reading bin file index/sift/idx_learn_str.after-streaming-act20000-cons10000-max100000.data ...
#pts in part = 30001, #dims = 128, size = 15360512B
Finished reading part of the bin file.
Finished converting part data to float.
Going to compute 100 NNs for 10000 queries over 30001 points in 128 dimensions using L2 distance fn. 
Computed distances for queries: [0,512)
Computed exact k-NN for queries: [0,512)
Computed distances for queries: [512,1024)
Computed exact k-NN for queries: [512,1024)
Computed distances for queries: [1024,1536)
Computed exact k-NN for queries: [1024,1536)
Computed distances for queries: [1536,2048)
Computed exact k-NN for queries: [1536,2048)
Computed distances for queries: [2048,2560)
Computed exact k-NN for queries: [2048,2560)
Computed distances for queries: [2560,3072)
Computed exact k-NN for queries: [2560,3072)
Computed distances for queries: [3072,3584)
Computed exact k-NN for queries: [3072,3584)
Computed distances for queries: [3584,4096)
Computed exact k-NN for queries: [3584,4096)
Computed distances for queries: [4096,4608)
Computed exact k-NN for queries: [4096,4608)
Computed distances for queries: [4608,5120)
Computed exact k-NN for queries: [4608,5120)
Computed distances for queries: [5120,5632)
Computed exact k-NN for queries: [5120,5632)
Computed distances for queries: [5632,6144)
Computed exact k-NN for queries: [5632,6144)
Computed distances for queries: [6144,6656)
Computed exact k-NN for queries: [6144,6656)
Computed distances for queries: [6656,7168)
Computed exact k-NN for queries: [6656,7168)
Computed distances for queries: [7168,7680)
Computed exact k-NN for queries: [7168,7680)
Computed distances for queries: [7680,8192)
Computed exact k-NN for queries: [7680,8192)
Computed distances for queries: [8192,8704)
Computed exact k-NN for queries: [8192,8704)
Computed distances for queries: [8704,9216)
Computed exact k-NN for queries: [8704,9216)
Computed distances for queries: [9216,9728)
Computed exact k-NN for queries: [9216,9728)
Computed distances for queries: [9728,10000)
Computed exact k-NN for queries: [9728,10000)
Saving truthset in one file (npts, dim, npts*dim id-matrix, npts*dim dist-matrix) with npts = 10000, dim = 100, size = 8000008B
Finished writing truthset
[3] Searching index (no filters)...
Reading (with alignment) bin file data/sift/sift_query.bin ...Metadata: #pts = 10000, #dims = 128, aligned_dim = 128... allocating aligned memory of 5120000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: data/sift/sift, size: 8000008, cache_size: 8000008
Reading truthset file data/sift/sift ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.000596178s
Reading bin file index/sift/idx_learn_str.after-streaming-act20000-cons10000-max100000.tags ...
Opening bin file index/sift/idx_learn_str.after-streaming-act20000-cons10000-max100000.tags... 
Metadata: #pts = 30001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 6299488, _max_observed_degree: 64, _start: 30000, file_frozen_pts: 1
Loading vamana graph index/sift/idx_learn_str.after-streaming-act20000-cons10000-max100000...done. Index has 30001 nodes and 1544865 out-edges, _start is set to 30000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 30000 _start: 30000 size(_location_to_tag): 30000 size(_tag_to_location):30000 Max points: 30000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20   249135.41              217.09       10161.28       99.24
  40   171018.31              350.80       17206.53       99.94
  60   131683.63              466.02       18201.85       99.98
  80   107733.73              567.87       28357.58       99.99
 100    93797.81              658.52       31130.93      100.00
Done searching. Now saving results 
basic_ios::clear: iostream error
Index search failed.
